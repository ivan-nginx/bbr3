# üõ†Ô∏è –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–∫—Ä–∏–ø—Ç

**[BBR Control](https://github.com/SawGoD/bbr-control)** ‚Äî –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –≤—ã–±–æ—Ä–∞ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ TCP congestion control (BBR2 / BBR3) –∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö sysctl-–ø—Ä–æ—Ñ–∏–ª–µ–π –≤ Linux.

# ‚ö†Ô∏è DISCLAIMER
–ï—Å–ª–∏ —Ç—ã –ø–æ–ª–µ–∑ –≤–∫–ª—é—á–∞—Ç—å BBR3, —Ö–æ—Ç—è –∂–∏–∑–Ω—å —É–∂–µ —Ç—Ä–∏–∂–¥—ã –Ω–∞–º–µ–∫–Ω—É–ª–∞ —Ç–µ–±–µ –Ω–µ —Ç—Ä–æ–≥–∞—Ç—å —Ç–æ, –≤ —á—ë–º –Ω–∏ —á–µ—Ä—Ç–∞ –Ω–µ –ø–æ–Ω–∏–º–∞–µ—à—å, —Ç–æ —Å–ª—É—à–∞–π –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ: **–≤—Å—ë, —á—Ç–æ –∑–¥–µ—Å—å —Å–ª–æ–º–∞–µ—à—å, —Ç–≤–æ–π –∫—Ä–µ—Å—Ç.** BBR3 –Ω–µ –ø—Ä–∏—Ö–æ–¥–∏—Ç —Å–ø–∞—Å–∞—Ç—å –∏–¥–∏–æ—Ç–æ–≤. –û–Ω –ø—Ä–æ—Å—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–∞–∫, –∫–∞–∫ –¥–æ–ª–∂–µ–Ω. –ê –≤–æ—Ç —Ç—ã ‚Äî —É–∂–µ –∫–∞–∫ –ø–æ–≤–µ–∑—ë—Ç.

---

## üü¢ BBR3 ‚Äî –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –≤–∑—Ä–æ—Å–ª—ã–π, –æ–∫—Ä—É–∂—ë–Ω–Ω—ã–π —Å–µ—Ç–µ–≤—ã–º–∏ –∫—Ä–µ—Ç–∏–Ω–∞–º–∏
Cubic ‚Äî –∫–∞–∫ –¥–µ–¥, –∫–æ—Ç–æ—Ä—ã–π –ø—å—ë—Ç —Ç–æ—Ä–º–æ–∑–Ω—É—é –∂–∏–¥–∫–æ—Å—Ç—å –∏ —É–≤–µ—Ä—è–µ—Ç, —á—Ç–æ —Ç–∞–∫ –Ω–∞–¥–æ. BBR1 ‚Äî –∫–∞–∫ –∂–∞–¥–Ω—ã–π —à–∫–æ–ª—å–Ω–∏–∫, –∫–æ—Ç–æ—Ä—ã–π –æ—Ä—ë—Ç ¬´–ú–û–Å¬ª –∏ –∑–∞—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –∫–∞–Ω–∞–ª –¥–æ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –±–∞–π—Ç–∞. BBR2 ‚Äî —Å—Ç–∞—Ä–∞–µ—Ç—Å—è, –Ω–æ –≤—Å—ë –µ—â—ë –±–æ–∏—Ç—Å—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–π —Ç–µ–Ω–∏.  
–ù–∞ –∏—Ö —Ñ–æ–Ω–µ BBR3 –≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å—É—â–µ—Å—Ç–≤–æ, –∫–æ—Ç–æ—Ä–æ–µ —Ö–æ—Ç—è –±—ã –ø–æ–ø—ã—Ç–∞–ª–æ—Å—å —ç–≤–æ–ª—é—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞—Ç—å.

–ï—Å–ª–∏ —É —Ç–µ–±—è –º–Ω–æ–≥–æ–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è –Ω–æ–¥–∞, VPN, Reality, QUIC, —Ç–æ–ª–ø–∞ –∫–ª–∏–µ–Ω—Ç–æ–≤ —Å IQ –Ω–∏–∂–µ –∫–æ–º–Ω–∞—Ç–Ω–æ–π —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã ‚Äî BBR3 –¥–∞—ë—Ç —Ç–µ–±–µ —à–∞–Ω—Å –¥–æ–∂–∏—Ç—å –¥–æ –∫–æ–Ω—Ü–∞ –Ω–µ–¥–µ–ª–∏ –±–µ–∑ –º–∞—Ç–æ–≤ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

### –ß—Ç–æ –æ–Ω –¥–µ–ª–∞–µ—Ç —Ç–∞–∫, –∫–∞–∫ –Ω–∞–¥–æ
- üö• **–ù–µ –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç —Å–µ—Ç—å –≤ –ø—Ä–æ–±–∫—É**, –Ω–µ —Ä–∞—Å—Ç–∏—Ç –æ—á–µ—Ä–µ–¥—å –¥–æ —Ä–∞–∑–º–µ—Ä–æ–≤ —Ç–≤–æ–µ–π –≥–ª—É–ø–æ—Å—Ç–∏.
- ü¶∑ **–ù–µ –¥–∞–≤–∏—Ç –≤—Å–µ—Ö –ª–æ–∫—Ç—è–º–∏**, –æ—Å—Ç–∞–≤–ª—è—è –¥—Ä—É–≥–∏–º —à–∞–Ω—Å –ø–æ–∂–∏—Ç—å.
- üßä **–ù–µ –ø–∞–¥–∞–µ—Ç –≤ –∏—Å—Ç–µ—Ä–∏–∫—É –æ—Ç –ø–∞—Ä—ã –ø–æ—Ç–µ—Ä—è–Ω–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤.**
- üöÄ **–ù–µ –ª–æ–º–∞–µ—Ç QUIC**, –∫–æ—Ç–æ—Ä—ã–π –æ—Ç BBR1 –≤–æ–æ–±—â–µ —Ä—ã–¥–∞–µ—Ç –∫—Ä–æ–≤—å—é.
- üë• **–ù–µ —É–º–∏—Ä–∞–µ—Ç**, –∫–æ–≥–¥–∞ –∫ —Å–µ—Ä–≤–µ—Ä—É –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è —Ç–æ–ª–ø–∞ –±—ã—Ç–æ–≤—ã—Ö –±–µ–¥—Å—Ç–≤–∏–π.

---

## üí• 1. –û–Ω –ù–ï –¥–µ—Ä—ë—Ç—Å—è –∑–∞ –∫–∞–Ω–∞–ª, –∞ –¥–µ–ª–∞–µ—Ç —Ç–æ, —á—Ç–æ –¥–æ–ª–∂–µ–Ω
BBR1 –≤–µ–¥—ë—Ç —Å–µ–±—è —Ç–∞–∫, –±—É–¥—Ç–æ —É –Ω–µ–≥–æ –¥–µ—Ç—Å–∫–∞—è —Ç—Ä–∞–≤–º–∞: —Å–∏–¥–∏—Ç, –∂—Ä—ë—Ç –∫–∞–Ω–∞–ª, –∞ –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –ø–æ—Å—ã–ª–∞–µ—Ç. –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –æ–¥–Ω–æ–º—É –∏–¥–∏–æ—Ç—É –Ω–∞—á–∞—Ç—å –∫–∞—á–∞—Ç—å –≤–∏–¥–µ–æ ‚Äî –∏ RTT –≤–∑–ª–µ—Ç–∞–µ—Ç –≤ —Å—Ç—Ä–∞—Ç–æ—Å—Ñ–µ—Ä—É.

BBR3 –≤–µ–¥—ë—Ç —Å–µ–±—è –∫–∞–∫ –Ω–æ—Ä–º–∞–ª—å–Ω—ã–π –≤–∑—Ä–æ—Å–ª—ã–π:
- ‚öñÔ∏è **–æ—Ü–µ–Ω–∏–≤–∞–µ—Ç —Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤—É—é –¥–æ–ª—é**, –∞ –Ω–µ –æ—Ä—ë—Ç ¬´–ó–ê–ë–ò–†–ê–Æ –í–°–Å¬ª
- üëÄ **—Å–º–æ—Ç—Ä–∏—Ç –Ω–∞ —Ä–µ–∞–ª—å–Ω—É—é —Å–µ—Ç—å**, –∞ –Ω–µ –ø—Ä–∏–¥—É–º—ã–≤–∞–µ—Ç –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—É—é —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å
- üßØ **—Ä–µ–≥—É–ª–∏—Ä—É–µ—Ç —Å–∫–æ—Ä–æ—Å—Ç—å**, –∞ –Ω–µ —É—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –ø–µ—Ä–µ–ø–∞–¥—ã –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è

–ü–æ–ª—Å–æ—Ç–Ω–∏ –∫–ª–∏–µ–Ω—Ç–æ–≤ ‚Äî –∏ –æ—á–µ—Ä–µ–¥—å –Ω–µ –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ –±–æ–ª–æ—Ç–æ. –î–∞–∂–µ –µ—Å–ª–∏ –æ–¥–∏–Ω –∫—Ä–µ—Ç–∏–Ω —Å–º–æ—Ç—Ä–∏—Ç 4K —á–µ—Ä–µ–∑ Wi‚ÄëFi, –∑–∞–∂–∞—Ç—ã–π –º–µ–∂–¥—É –º–∏–∫—Ä–æ–≤–æ–ª–Ω–æ–≤–∫–æ–π –∏ —Ö–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫–æ–º.

## üü£ 2. RTT –æ—Å—Ç–∞—ë—Ç—Å—è —Ä–æ–≤–Ω—ã–º, –∫–∞–∫ –ø–æ—â—ë—á–∏–Ω–∞ —Å—É–¥—å–±—ã
–°—Ç–∞—Ä—ã–µ —Å—Ö–µ–º—ã –ø—Ä—ã–≥–∞—é—Ç –∫–∞–∫ –∑–∞—è—Ü –≤ –ø—Å–∏—Ö–æ–∑–µ. –ù–µ–±–æ–ª—å—à–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ ‚Äî –∏ –≤—Å—ë, RTT –∫—É–≤—ã—Ä–∫–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ –≥–æ–ª–æ–≤—É.

BBR3 –¥–µ–ª–∞–µ—Ç –∏–Ω–∞—á–µ:
- üßò –¥–µ—Ä–∂–∏—Ç RTT –ø—Ä–∏–º–µ—Ä–Ω–æ +10‚Äì20% –≤—ã—à–µ –±–∞–∑—ã
- üßπ –Ω–µ —Ä–∞–∑–¥—É–≤–∞–µ—Ç –±—É—Ñ–µ—Ä –∫–∞–∫ BBR1
- ‚ö° –¥–µ—Ä–∂–∏—Ç –¥–∂–∏—Ç—Ç–µ—Ä –≤ —É–∑–¥–µ

QUIC –æ—Ç —ç—Ç–æ–≥–æ –Ω–µ –≤—Å—Ö–ª–∏–ø—ã–≤–∞–µ—Ç. –ê —Ç—ã, –≤–Ω–µ–∑–∞–ø–Ω–æ, –Ω–µ —Å–ª—ã—à–∏—à—å –∂–∞–ª–æ–±—ã.

## üîµ 3. –ü–æ—Ç–µ—Ä–∏ –ø–∞–∫–µ—Ç–æ–≤ –Ω–µ –≤—ã–∑—ã–≤–∞—é—Ç –ø—Ä–∏—Å—Ç—É–ø–æ–≤ –∏—Å—Ç–µ—Ä–∏–∫–∏
–£ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —á—Ç–æ —É–≥–æ–¥–Ω–æ: –∫–∏—Ç–∞–π—Å–∫–∏–µ —Å–µ—Ç–∏, 3G –∏–∑ –±—É–Ω–∫–µ—Ä–∞, Wi‚ÄëFi —á–µ—Ä–µ–∑ –±–µ—Ç–æ–Ω. –ü–æ—Ç–µ—Ä–∏ ‚Äî –Ω–µ–∏–∑–±–µ–∂–Ω—ã.

BBR1 –ª–æ–º–∞–µ—Ç—Å—è, –∫–∞–∫ —Ç–≤–æ–∏ –Ω–∞–¥–µ–∂–¥—ã.  
BBR3 ‚Äî –Ω–µ—Ç.

- üí° –ø–æ–Ω–∏–º–∞–µ—Ç, —á—Ç–æ –ø–æ—Ç–µ—Ä—è = —Å–µ—Ç—å –∑–∞–Ω—è—Ç–∞
- üìâ —Å–Ω–∏–∂–∞–µ—Ç —Å–∫–æ—Ä–æ—Å—Ç—å —Ä–æ–≤–Ω–æ –Ω–∞—Å—Ç–æ–ª—å–∫–æ, –Ω–∞—Å–∫–æ–ª—å–∫–æ –Ω–∞–¥–æ
- üîÅ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –±—ã—Å—Ç—Ä–æ, –±–µ–∑ –≤–∏–∑–≥–∞ –∏ —Å–æ–ø–ª–µ–π

---

## üí¨ –ß—Ç–æ —ç—Ç–æ –¥–∞—ë—Ç —Ç–µ–±–µ, –∫–∞–∫ –≤–ª–∞–¥–µ–ª—å—Ü—É –Ω–æ–¥

### üëâ 1. –ù–æ–¥–∞ –ø–µ—Ä–µ—Å—Ç–∞—ë—Ç –±—ã—Ç—å –ø–æ–ª–µ–º –±–æ—è
–ö–∞–∂–¥—ã–π –ø–æ—Ç–æ–∫ –Ω–µ –ø—ã—Ç–∞–µ—Ç—Å—è –æ—Ç–ø–∏–Ω–∞—Ç—å –æ—Å—Ç–∞–ª—å–Ω—ã—Ö. –í—Å–µ –ø–æ–ª—É—á–∞—é—Ç —Å–≤–æ—é –¥–æ–ª—é, –∏ –Ω–∏–∫—Ç–æ –Ω–µ –∂—Ä—ë—Ç —á—É–∂–æ–π –∫—É—Å–æ–∫.

### üëâ 2. Reality/HTTP3/QUIC –Ω–∞—á–∏–Ω–∞—é—Ç –∂–∏—Ç—å –∫–∞–∫ –≤–∑—Ä–æ—Å–ª—ã–µ
–≠—Ç–∏ –ø—Ä–æ—Ç–æ–∫–æ–ª—ã —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã –∫ —Ö–∞–æ—Å—É.  
BBR3 —É–±–∏—Ä–∞–µ—Ç —Ö–∞–æ—Å.

### üëâ 3. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø–µ—Ä–µ—Å—Ç–∞—é—Ç —É—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –∏—Å—Ç–µ—Ä–∏–∫—É
–õ–µ–≥–µ–Ω–¥–∞—Ä–Ω—ã–µ —Ñ—Ä–∞–∑—ã:
- ¬´vpn –ª–∞–≥–∞–µ—Ç¬ª
- ¬´–≤–∏–¥–µ–æ —Ç–æ—Ä–º–æ–∑–∏—Ç¬ª
- ¬´–ø–∏–Ω–≥ –ø—Ä—ã–≥–∞–µ—Ç¬ª

—É–ª–µ—Ç–∞—é—Ç —Ç—É–¥–∞, –≥–¥–µ –∏–º –∏ –º–µ—Å—Ç–æ ‚Äî –Ω–∞ —Å–≤–∞–ª–∫—É.

---

## ‚öôÔ∏è –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è (–±–µ–∑ –∏–ª–ª—é–∑–∏–π)
BBR3 –ù–ï –±–µ—Å–ø–ª–∞—Ç–µ–Ω. –£–º–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ —Ç—Ä–µ–±—É–µ—Ç —Ä–µ—Å—É—Ä—Å–æ–≤.

### CPU
- BBR3 –∂—Ä—ë—Ç **–ø—Ä–∏–º–µ—Ä–Ω–æ –Ω–∞ 5‚Äì15% –±–æ–ª—å—à–µ**, —á–µ–º BBR1.  
  –ü–æ—Ç–æ–º—É —á—Ç–æ –æ–Ω –¥—É–º–∞–µ—Ç. –ù–µ —Ç–∞–∫ –±—ã—Å—Ç—Ä–æ, –∫–∞–∫ —Ö–æ—Ç–µ–ª–æ—Å—å –±—ã, –Ω–æ –≤—Å—ë –∂–µ –¥—É–º–∞–µ—Ç.
- –ü–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å Cubic ‚Äî **10‚Äì25% –±–æ–ª—å—à–µ**, –æ—Å–æ–±–µ–Ω–Ω–æ –ø—Ä–∏ —Ç–æ–ª–ø–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

### –ü–∞–º—è—Ç—å
- –ù–∞ —Å–∞–º –∞–ª–≥–æ—Ä–∏—Ç–º —É—Ö–æ–¥–∏—Ç –∫–æ–ø–µ–π–∫–∏: **–ø–∞—Ä—É –º–µ–≥–∞–±–∞–π—Ç**.
- –û—Å–Ω–æ–≤–Ω–æ–π —Ä–∞—Å—Ö–æ–¥ ‚Äî —Ç–≤–æ–∏ –∂–µ –±—É—Ñ–µ—Ä—ã.  
  –ï—Å–ª–∏ —Ç—ã —Å—Ç–∞–≤–∏—à—å `rmem_max/wmem_max = 32M`, —Ç–æ –∫–∞–∂–¥—ã–π –∞–∫—Ç–∏–≤–Ω—ã–π —Å–æ–∫–µ—Ç *–≤ —Ç–µ–æ—Ä–∏–∏* –º–æ–∂–µ—Ç –ø–æ–¥–ø–æ–ª–∑—Ç–∏ –∫ —ç—Ç–æ–º—É –∑–Ω–∞—á–µ–Ω–∏—é.

## –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∞–≤–∏–ª–æ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∂–µ–ª–µ–∑–∞ –ø–æ–¥ BBR1 / BBR3

(–ï—Å–ª–∏ —Ç–≤–æ–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∞–¥–µ–∫–≤–∞—Ç–Ω–µ–µ —Å—Ä–µ–¥–Ω–µ–≥–æ ‚Äî —Ç–µ–±–µ –ø–æ–≤–µ–∑–ª–æ. –ï—Å–ª–∏ –Ω–µ—Ç ‚Äî —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–π –ø–æ –Ω–∏–∂–Ω–µ–π –≥—Ä–∞–Ω–∏—Ü–µ.)

#### üîπ 1 —è–¥—Ä–æ / 2 –ì–ë RAM
- **BBR1:** 15‚Äì25 –∞–∫—Ç–∏–≤–Ω—ã—Ö –ª—é–¥–µ–π.
- **BBR3:** 20‚Äì35, –ø–æ–∫–∞ –±—É—Ñ–µ—Ä—ã –Ω–µ –Ω–∞—á–∞–ª–∏ –¥—É—à–∏—Ç—å RAM.

#### üîπ 2 —è–¥—Ä–∞ / 4 –ì–ë RAM
- **BBR1:** 40‚Äì60.
- **BBR3:** 60‚Äì90.

#### üîπ 4 —è–¥—Ä–∞ / 8 –ì–ë RAM
- **BBR1:** ~100.
- **BBR3:** 120‚Äì180.

#### üîπ 8 —è–¥–µ—Ä / 16 –ì–ë RAM
- **BBR1:** 200‚Äì250.
- **BBR3:** 300‚Äì400.

### –ë—É—Ñ–µ—Ä–Ω—ã–π –∑–∞–ø–∞—Å
- –¥–µ—Å—è—Ç–∫–∏‚Äì—Å–æ—Ç–Ω–∏ –ø–æ—Ç–æ–∫–æ–≤: **+256‚Äì1024 –ú–ë** –ø–æ–¥ –±—É—Ñ–µ—Ä–∞
- —Ç—ã—Å—è—á–∏ –ø–æ—Ç–æ–∫–æ–≤: **+1‚Äì4 –ì–ë**, –∏–Ω–∞—á–µ –ø–∞–º—è—Ç—å –±—É–¥–µ—Ç –∫–æ–Ω—á–∞—Ç—å—Å—è –±—ã—Å—Ç—Ä–µ–µ, —á–µ–º —Ç–µ—Ä–ø–µ–Ω–∏–µ

## ‚ùì –ü–æ—á–µ–º—É BBR3 —Å–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –ª—É—á—à–µ, —Ö–æ—Ç—å –∏ —Ç—è–∂–µ–ª–µ–µ –¥–ª—è –∂–µ–ª–µ–∑–∞?

–¢—ã —É–¥–∏–≤–∏–ª—Å—è ‚Äî –ª–æ–≥–∏—á–Ω–æ.
–ù–æ —Ç—É—Ç –≤–∞–∂–Ω–æ –ø–æ–Ω–∏–º–∞—Ç—å –ø—Ä–∏–Ω—Ü–∏–ø: **–Ω–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ CPU –∏ RAM ‚Äî —ç—Ç–æ –Ω–µ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –∫—Ä–∏—Ç–µ—Ä–∏–π –ø—Ä–æ–ø—É—Å–∫–Ω–æ–π —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ –Ω–æ–¥—ã.**

BBR1 —Å–ª–∞–±–µ–µ –Ω–µ –ø–æ—Ç–æ–º—É —á—Ç–æ ¬´—ç–∫–æ–Ω–æ–º–∏—Ç —Ä–µ—Å—É—Ä—Å—ã¬ª.
–û–Ω —Å–ª–∞–±–µ–µ –ø–æ—Ç–æ–º—É —á—Ç–æ **–æ–Ω —Ç—É–ø–æ–π.**

–î–∞–≤–∞–π –ø–æ –ø–æ—Ä—è–¥–∫—É.

### üìå –ü–æ—á–µ–º—É BBR1 —Ä–∞–Ω—å—à–µ ¬´—É–º–∏—Ä–∞–µ—Ç¬ª

BBR1 –¥–µ–ª–∞–µ—Ç —Ç—Ä–∏ —Å–º–µ—Ä—Ç–Ω—ã—Ö –≥—Ä–µ—Ö–∞:

#### ‚ùå 1. –û–Ω —Ä–∞–∑–¥—É–≤–∞–µ—Ç –æ—á–µ—Ä–µ–¥—å

–ß–µ–º –¥–ª–∏–Ω–Ω–µ–µ –æ—á–µ—Ä–µ–¥—å ‚Äî —Ç–µ–º –≤—ã—à–µ –∑–∞–¥–µ—Ä–∂–∫–∏, —Ç–µ–º –±—ã—Å—Ç—Ä–µ–µ –≤—Å—ë –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ –±–æ–ª–æ—Ç–æ.
–ö–æ–≥–¥–∞ RTT –≤–∑–ª–µ—Ç–∞–µ—Ç, –∫–ª–∏–µ–Ω—Ç—ã –Ω–∞—á–∏–Ω–∞—é—Ç –∑–∞–±–∏–≤–∞—Ç—å –±—É—Ñ–µ—Ä–∞ *–µ—â—ë —Å–∏–ª—å–Ω–µ–µ*: –ø–æ—Ä–æ—á–Ω—ã–π –∫—Ä—É–≥.

#### ‚ùå 2. –û–Ω –¥—É—à–∏—Ç —Å–æ—Å–µ–¥–µ–π

–ï—Å–ª–∏ –æ–¥–∏–Ω —é–∑–µ—Ä –Ω–∞—á–∏–Ω–∞–µ—Ç –∫–∞—á–∞—Ç—å —á—Ç–æ-—Ç–æ —Ç—è–∂—ë–ª–æ–µ, BBR1 –≤—ã–¥–∞–≤–ª–∏–≤–∞–µ—Ç –æ—Å—Ç–∞–ª—å–Ω—ã—Ö.
–ù–æ–¥–∞ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏ –º–æ–∂–µ—Ç –∂–∏—Ç—å, –Ω–æ **–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å—á–∏—Ç–∞—é—Ç, —á—Ç–æ –æ–Ω–∞ —É–º–µ—Ä–ª–∞**, –ø–æ—Ç–æ–º—É —á—Ç–æ —É –Ω–∏—Ö –≤ —ç—Ç–æ—Ç –º–æ–º–µ–Ω—Ç –ª–∞–≥–∏, —Ö—Ä–∏–ø—ã –∏ –ø–æ–ª–Ω—ã–π –º—Ä–∞–∫.

#### ‚ùå 3. –û–Ω –Ω–µ —É–º–µ–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å –ø–æ—Ç–µ—Ä—è–º–∏

–ü–æ—Ç–µ—Ä–∏ ‚â† –∫–æ–Ω–µ—Ü —Å–≤–µ—Ç–∞, –Ω–æ BBR1 –¥—É–º–∞–µ—Ç –∏–Ω–∞—á–µ.
–û—Ç—Å—é–¥–∞ –ø–∞–¥–µ–Ω–∏–µ —Å–∫–æ—Ä–æ—Å—Ç–∏, –ø–ª—è—Å–∫–∏ RTT –∏ –º–∞—Å—Å–æ–≤–∞—è –∏—Å—Ç–µ—Ä–∏–∫–∞.

üëâ –í —Å—É–º–º–µ —ç—Ç–æ –≤—Å—ë –¥–µ–ª–∞–µ—Ç –Ω–æ–¥—É **–Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ–π**, –¥–∞–∂–µ –µ—Å–ª–∏ CPU –µ—â—ë –¥—ã—à–∏—Ç.

## üìå –ü–æ—á–µ–º—É BBR3 —Ç—è–Ω–µ—Ç –±–æ–ª—å—à–µ –ª—é–¥–µ–π –ø—Ä–∏ –±–æ–ª—å—à–µ–º —Ä–∞—Å—Ö–æ–¥–µ —Ä–µ—Å—É—Ä—Å–æ–≤

### üü¢ 1. –û–Ω –Ω–µ —É—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –ø–æ–º–æ–π–∫—É –≤ –æ—á–µ—Ä–µ–¥–∏

BBR3 –¥–µ—Ä–∂–∏—Ç –æ—á–µ—Ä–µ–¥—å –∫–æ—Ä–æ—Ç–∫–æ–π.
–ö–æ—Ä–æ—Ç–∫–∞—è –æ—á–µ—Ä–µ–¥—å = –Ω–∏–∑–∫–∏–π RTT = —Å–µ—Ç—å –Ω–µ –∑–∞—Ö–ª—ë–±—ã–≤–∞–µ—Ç—Å—è = –º–æ–∂–Ω–æ –æ–±—Å–ª—É–∂–∏–≤–∞—Ç—å –±–æ–ª—å—à–µ –ª—é–¥–µ–π **–¥–æ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—è –∫–æ–ª–ª–∞–ø—Å–∞**.

### üü¢ 2. –û–Ω –¥–µ–ª–∏—Ç –∫–∞–Ω–∞–ª —á–µ—Å—Ç–Ω–æ

–ö–æ–≥–¥–∞ —É 40‚Äì80 —á–µ–ª–æ–≤–µ–∫ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –∞–∫—Ç–∏–≤–Ω—ã —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è, BBR3 –Ω–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–¥–Ω–æ–º—É —É–±–ª—é–¥–∫—É —Å–≤–∞–ª–∏—Ç—å –≤—Å—é –Ω–æ–¥—É.

–°–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ = –Ω–∞–≥—Ä—É–∑–∫–∞ *—Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–µ–µ*, –∞ –Ω–µ ¬´–æ–¥–∏–Ω –∂—Ä—ë—Ç, –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∑–∞–¥—ã—Ö–∞—é—Ç—Å—è¬ª.

### üü¢ 3. –û–Ω –∞–¥–µ–∫–≤–∞—Ç–Ω–æ –≤–µ–¥—ë—Ç —Å–µ–±—è –Ω–∞ –ø–æ—Ç–µ—Ä—è—Ö

–ü–æ—Ç–µ—Ä–∏ –ø—Ä–∏ –±–æ–ª—å—à–æ–º —á–∏—Å–ª–µ –∫–ª–∏–µ–Ω—Ç–æ–≤ ‚Äî –Ω–æ—Ä–º–∞.
BBR3 –Ω–µ —Å—Ö–æ–¥–∏—Ç —Å —É–º–∞.
–≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–æ–¥–µ –æ—Å—Ç–∞–≤–∞—Ç—å—Å—è —Ä–∞–±–æ—á–µ–π –ø—Ä–∏ –±–æ–ª—å—à–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –ª—é–¥–µ–π.

### üü¢ 4. –û–Ω –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç QUIC –∫–∞–∫ –Ω–∞–¥–æ

–ê QUIC ‚Äî —Ü–∞—Ä—å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏.
BBR1 –µ–≥–æ –ª–æ–º–∞–µ—Ç.
Cubic –µ–≥–æ –ª–æ–º–∞–µ—Ç.
BBR3 ‚Äî –Ω–µ—Ç.

### üü¢ 5. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —Ä–∞—Å—Ö–æ–¥ CPU ‚Äî —ç—Ç–æ —Ü–µ–Ω–∞ –∑–∞ –º–æ–∑–≥–∏

BBR3 —Å—á–∏—Ç–∞–µ—Ç —á—É—Ç—å –±–æ–ª—å—à–µ –º–µ—Ç—Ä–∏–∫, –Ω–æ –¥–µ–ª–∞–µ—Ç —ç—Ç–æ —Ä–∞–¥–∏ *—É–º–Ω–æ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è*.
–û–Ω —Ç—Ä–∞—Ç–∏—Ç CPU, —á—Ç–æ–±—ã —ç–∫–æ–Ω–æ–º–∏—Ç—å —Å–µ—Ç—å.
–û–Ω —Ç—Ä–∞—Ç–∏—Ç RAM, —á—Ç–æ–±—ã –Ω–µ –¥–æ–ø—É—Å—Ç–∏—Ç—å –≤—ã–≥–æ—Ä–∞–Ω–∏—è –æ—á–µ—Ä–µ–¥–µ–π.

–¶–µ–Ω–∞ –Ω–µ–±–æ–ª—å—à–∞—è, –≤—ã–∏–≥—Ä—ã—à –æ–≥—Ä–æ–º–Ω—ã–π.

## üìå –ò—Ç–æ–≥, —á—Ç–æ–±—ã —Ç—ã –∑–∞–ø–æ–º–Ω–∏–ª:

–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–ª–∏–µ–Ω—Ç–æ–≤, –∫–æ—Ç–æ—Ä–æ–≥–æ –≤—ã–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –Ω–æ–¥–∞ ‚Äî —ç—Ç–æ **–Ω–µ –ø—Ä–æ —Ä–µ—Å—É—Ä—Å—ã**,
—ç—Ç–æ **–ø—Ä–æ –∞–¥–µ–∫–≤–∞—Ç–Ω–æ—Å—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏—è —Å–µ—Ç–µ–≤–æ–≥–æ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ –ø–æ–¥ –¥–∞–≤–ª–µ–Ω–∏–µ–º**.

BBR1 ‚Äî —ç—Ç–æ –ø—å—è–Ω—ã–π –≤–æ–¥–∏—Ç–µ–ª—å –Ω–∞ –∞–≤—Ç–æ–±–∞–Ω–µ.

BBR2 ‚Äî –Ω–æ—Ä–º, –Ω–æ –Ω–µ –≤—Å–µ–≥–¥–∞.

BBR3 ‚Äî –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π, –∫—Ç–æ –≤–æ–æ–±—â–µ —á–∏—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª–∞ –¥–≤–∏–∂–µ–Ω–∏—è.

–ü–æ—ç—Ç–æ–º—É BBR3 –∏ —Ç–∞—â–∏—Ç.
–î–∞–∂–µ –µ—Å–ª–∏ –∂—Ä—ë—Ç –Ω–µ–º–Ω–æ–≥–æ –±–æ–ª—å—à–µ ‚Äî –æ–Ω **—ç–∫–æ–Ω–æ–º–∏—Ç –≥–ª–∞–≤–Ω–æ–µ: —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å**.

---

## üß∞ –ë—É—Ñ–µ—Ä–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ (—Å–∫—Ä–∏–ø—Ç –¥–µ–ª–∞–µ—Ç –≤—Å—ë –∑–∞ —Ç–µ–±—è)
–°–∫—Ä–∏–ø—Ç –≤–∫–ª—é—á–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ BBR3 —Å—á–∏—Ç–∞–µ—Ç –Ω–æ—Ä–º–æ–π.  
–•–æ—á–µ—à—å ‚Äî –æ—Å—Ç–∞–≤–ª—è–π. –•–æ—á–µ—à—å ‚Äî —É–±–∏–≤–∞–π —Å–≤–æ–π —Å–µ—Ä–≤–µ—Ä —Å–∞–º, —è –Ω–µ –¥–µ—Ä–∂—É.

```sysctl
# --- –ë—É—Ñ–µ—Ä–∞ –ø–æ–¥ –≤—ã—Å–æ–∫—É—é –Ω–∞–≥—Ä—É–∑–∫—É ---
net.core.rmem_max = 33554432
net.core.wmem_max = 33554432
net.ipv4.tcp_rmem = 4096 87380 33554432
net.ipv4.tcp_wmem = 4096 65536 33554432

# --- –°–Ω–∏–∂–µ–Ω–∏–µ –∑–∞–¥–µ—Ä–∂–µ–∫ ---
net.ipv4.tcp_low_latency = 1
```

–≠—Ç–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–∞—ë—Ç —è–¥—Ä—É ¬´–ª–µ–≥–∞–ª—å–Ω–æ–µ –ø—Ä–∞–≤–æ¬ª –∂—Ä–∞—Ç—å –±–æ–ª—å—à–µ –ø–∞–º—è—Ç–∏ –Ω–∞ —Å–æ–∫–µ—Ç. –ï—Å–ª–∏ —É —Ç–µ–±—è —Ç—ã—Å—è—á–∞ –∫–ª–∏–µ–Ω—Ç–æ–≤, –Ω–µ –¥–µ–ª–∞–π –≤–∏–¥, —á—Ç–æ 2 –ì–ë RAM —Ç–µ–±–µ —Ö–≤–∞—Ç–∏—Ç.

---

## üìå –ï—Å–ª–∏ –≤–∫—Ä–∞—Ç—Ü–µ
–ï—Å–ª–∏ —É —Ç–µ–±—è –º–Ω–æ–≥–æ–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è –Ω–æ–¥–∞ ‚Äî **—Å—Ç–∞–≤—å BBR3, –∏–Ω–∞—á–µ —Ç—ã —Å–∞–º —Å–µ–±–µ –≤—Ä–∞–≥**.  
–í—Å—ë –æ—Å—Ç–∞–ª—å–Ω–æ–µ ‚Äî –ø–æ–ø—ã—Ç–∫–∏ –æ–±—ä—è—Å–Ω–∏—Ç—å, —á—Ç–æ –≤–æ–¥–∞ –º–æ–∫—Ä–∞—è.

## üîß –ö–∞–∫ –ø–æ—Å—Ç–∞–≤–∏—Ç—å?

### Debian 12+ / Ubuntu 22.04+

```
bash <(curl -sSL https://raw.githubusercontent.com/ivan-nginx/bbr3/main/optimize_network.sh)
```
–°–∫—Ä–∏–ø—Ç –≤–∫–ª—é—á–∞–µ—Ç –∏ BBR3, –∏ –±—É—Ñ–µ—Ä–∞, –∏ –≤—Å—ë, —á—Ç–æ –Ω–∞–¥–æ. –ù–µ –≤–∫–ª—é—á–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Ç–≤–æ–π –º–æ–∑–≥.

---

## ü§ò –¢–∞–±–ª–∏—Ü–∞: –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–∏ ~50 –∫–ª–∏–µ–Ω—Ç–∞—Ö (Cubic / BBR1 / BBR2 / BBR3)

| –ü–∞—Ä–∞–º–µ—Ç—Ä                  | Cubic           | BBR1           | BBR2        | **BBR3**          |
| ------------------------- | --------------- | -------------- | ----------- | ----------------- |
| üì° –°–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ—Å—Ç—å –ø–æ—Ç–æ–∫–æ–≤ | ‚ö†Ô∏è –∑–∞—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç | ‚ùå —Ö–∞–æ—Å        | ‚öñÔ∏è —Ç–µ—Ä–ø–∏–º–æ | üü¢ —Ä–æ–≤–Ω–æ          |
| üéØ RTT p99                | ‚ùå –≤—ã—Å–æ–∫–∏–π     | ‚ùå —Å–∫–∞—á–µ—Ç      | ‚öñÔ∏è –ª—É—á—à–µ   | üü¢ —Ä–æ–≤–Ω–æ          |
| üé¨ –í–∏–¥–µ–æ 4K               | ‚öñÔ∏è –∏–Ω–æ–≥–¥–∞ –æ–∫   | ‚ùå —Ä–∞—Å—Å—ã–ø–∞–µ—Ç—Å—è | ‚öñÔ∏è –ª—É—á—à–µ   | üü¢ —Å—Ç–∞–±–∏–ª—å–Ω–æ      |
| üí¨ –ì–æ–ª–æ—Å/–≤–∏–¥–µ–æ            | ‚öñÔ∏è –Ω–æ—Ä–º        | ‚ùå —Ñ—Ä–∏–∑—ã       | ‚öñÔ∏è –ª—É—á—à–µ   | üü¢ —á–∏—Å—Ç–æ          |
| üî• –ü–æ—Ç–µ—Ä–∏ –ø–∞–∫–µ—Ç–æ–≤         | ‚ö†Ô∏è –±–æ–ª—å–Ω–æ      | ‚ùå –∏—Å—Ç–µ—Ä–∏–∫–∞    | ‚öñÔ∏è —Ç–µ—Ä–ø–∏—Ç  | üü¢ –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è   |
| üß† –ü–µ—Ä–µ–≥—Ä—É–∑               | ‚ö†Ô∏è –±—É—Ñ–µ—Ä–∏—Ç—Å—è   | ‚ùå –ø–∞–Ω–∏–∫–∞      | ‚öñÔ∏è –ª—É—á—à–µ   | üü¢ –ø–æ–¥—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è |
| üë• –¢–æ–ª–ø–∞                  | ‚ö†Ô∏è –≤–µ–∑–µ–Ω–∏–µ     | ‚ùå –±–∞—Ä–¥–∞–∫      | ‚öñÔ∏è —Å–Ω–æ—Å–Ω–æ  | üü¢ –ø–æ—Ä—è–¥–æ–∫        |

## üé® –ì—Ä–∞—Ñ–∏–∫–∏ (Cubic / BBR1 / BBR2 / BBR3)

### –ü—Ä–æ–ø—É—Å–∫–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å

Cubic:
```
‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñÇ‚ñÑ‚ñÉ‚ñà‚ñà‚ñà‚ñÇ‚ñÑ‚ñÇ‚ñà‚ñÇ‚ñÅ
```
BBR1:
```
‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñÜ‚ñÉ‚ñà‚ñà‚ñÜ‚ñÑ‚ñà‚ñà‚ñÑ‚ñÉ‚ñà‚ñà‚ñÑ‚ñÉ‚ñÑ‚ñà‚ñà‚ñÇ
```
BBR2:
```
‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñÖ‚ñà‚ñà‚ñà‚ñÖ‚ñà‚ñà‚ñÜ‚ñà‚ñà‚ñà‚ñá
```
BBR3:
```
‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà
```

### RTT p95
Cubic:
```
‚ñÇ‚ñÉ‚ñÖ‚ñÜ‚ñÜ‚ñÖ‚ñÉ‚ñÇ‚ñÉ‚ñÖ‚ñÉ
```
BBR1:
```
‚ñÑ‚ñÖ‚ñÜ‚ñá‚ñà‚ñá‚ñÖ‚ñÑ‚ñÖ‚ñà‚ñà‚ñá‚ñÖ‚ñÑ‚ñÖ‚ñÑ‚ñÉ
```
BBR2:
```
‚ñÇ‚ñÇ‚ñÉ‚ñÉ‚ñÇ‚ñÉ‚ñÇ‚ñÉ‚ñÇ‚ñÉ‚ñÇ‚ñÉ
```
BBR3:
```
‚ñÇ‚ñÇ‚ñÉ‚ñÇ‚ñÉ‚ñÇ‚ñÉ‚ñÇ‚ñÉ‚ñÇ‚ñÉ‚ñÇ‚ñÉ
```